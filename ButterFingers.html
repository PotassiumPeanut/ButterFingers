<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Butterfingers</title>
</head>
<body>
    <div id=>
    <h1>Butterfingers: The Tale of a Young Squire</h1>   
        <p>This tale is about a squire named Scott.  Now, Scott was qualified for being a knight.  He were witty, courageous, and persevering; however, he had an affliction that still had him be a squire;  he had butterfingers.  For seven years, it seemed that Scott simply couldn’t overcome this curse that blocked his path to knighthood.  Lucky for him, he had a patient teacher, one who was the most valiant of the land, Sir Ivan.  When most of the knights turned Scott down because of his butterfingers, Sir Ivan was there, welcoming Scott as his squire.  When the other knights heard this, they were a bit confused, but they didn’t question Ivan’s decision.</p>
    <div id="myDIV">
    </div>
</body>
<div id="story">
</div>
<div id="buttons">
</div>
<script>
    const story = {
    intro: { 
        text: `One day, as the two were training, the king called all of his knights and their squires over to the throne room for an important meeting.  “My loyal subjects,” he began, “my precious daughter has been seized by a fiendish dragon by the night.  I need five noble knights to journey to the beast’s den to slay it and recover my daughter from that abomination’s lair.”\n One by one, four knights and their squires come up to the the king to lend their hand.  Sir Ivan was going to approach the king, but looked back at Scott.  "Would you like to come with me on this journey?  I know you have problems wielding your arms, but I assure that you can be of help.  You can stay behind if you are not ready, and you can practice by yourself or with the other knights and squires." \n \n Does Scott join Sir Ivan?`,
        choices: [
            ["Yes", "depart"],
            ["No", "stayAtCastle0"],
            ["No?", "indecisive0"]
        ]
    },
    depart: {
        text: `Scott leaves the castle and then meets the mean squires`,
        choices: [
            ["Run Away","fleeComrades"],
            ["Stay", "stayComrades"]
        ]
    },
    stayAtCastle0: {
        text: `“I think I’ll stay,” Scott responded, and Sir Ivan nods.  After all he’s yet to master his skills at using specific weapons and overcoming his butterfingers. \n“Scott, you can practice with the other knights and squires, they’ll be sure to aid you in combat,” he assured. \n Scott knew what it’s like to be with the other squires, and it’s nothing but name calling and jeering because “You can’t hold a sword for five minutes without it slipping out of your hands.” Though it’s for the best, as training is training. \n As Sir Ivan leaves Scott to step up in front of the king, one of the knights asks, “Where did the foul beast go?”  The king tells the volunteers the general direction he saw the dragon go towards, and sent the knights off to follow. \n Two weeks past and there are no signs of Sir Ivan, the knights or even any of the squires, and the king became worried again, as they're supposed to be back.  He called another meeting in the throne room. “It’s been two whole weeks since I’ve sent five knights and their squires to save my daughter from the clutches of a dragon.  Yet none of them have came back.  I’m starting to worry that they may have perished in the flames of the dragon, so I will ask for volunteers to go and rescue my darling daughter.” Scott was going to step up to the front of the king, but an infamous knight came to the king. \n The knight was known as Sir “Anything You Can Do I Can Do Better” RichardRicher, one of the most prideful and irritating beings of the lands.  Sir RichardRicher thinks he’s better than everybody and flaunts it.  He acts like he’s part of the royal family, wearing purple on every occasion while everyone else is wearing red. He wants to be the best knight in the land even superior to Sir Ivan.  The king also held some distaste of Sir RichardRicher, but he kept him because he does pretty well in combat. It’s just painful to look at since he tries to incorporate his horrid dancing into the fighting. “To be a knight you have to dance; if you don’t, you won’t stand a chance!” is his stupid catchphrase that rings in everybody’s ears whenever he’s around.  He has a thing for rhyming. `,
        choices: [
            ["No way", "noWay"],
            ["I guess he has to", "yeah"]
        ]
    },
    indecisive0: {
        text: `Scott stays at castle but is indecisive`,
        choices: [
            ["Stay", "stayAtCastle1"],
            ["He should've gone","indecisive1"]
        ]

    },
    stayAtCastle1: {
        text: `from indecisive0, Scott stays`,
        choices: [
            ["No way", "noWay"],
            ["I guess he has to", "yeah"]
        ]

    },
    indecisive1: {
        text: `from indecisive0, Scott leaves`,
        choices: [
            ["Avenge your fallen soldiers", "avenge"],
            ["Evaluate your choices", ""]
        ]

    },
    fleeComrades: {
        text: `This path gets him mauled by a bear`,
        choices: []

    },
    stayComrades: {
        text: `Scott reluctantly stays as the group continues to poke at him. After a while of redicule from his peers, a sudden noise emited from the fortress.  The sound definitley from a casualty, but was it a knight’s or a dragon’s life that was ended?  The question was answered when a set of armor flew out over the walls and into the hungry red lava below.  The squires decided that it was time to get into the action.  They all pick up their weapons, one picked up a bow, one a mace, another a sword and another squire retrieved their war hammer.  Scott went and picked up his “trusty” flail from his horse, who felt a bit uneasy about the situation.  “Don’t worry Cody,” Scott reassured,  “I’ll be back.”  Despite the consolation, the horse lets out a nervy neigh. \n As the other four squires got onto the bridge, Scott wondered `,
        choices: [
            ["Be ready to fight", "aggressive"],
            ["Be prepared but careful and ready" ,"passive"]
        ]

    },
    passive: {
        text: `The dragon told Scott to return to the Kingdom and tell the King to bring him all the gold and then went back to his cave, Heed the dragon's advice and return empty handed?`,
        choices: [
            ["Yes ", "dragonRight"],
            ["No", "dragonWrong"]
        ]

    },
    aggressive: {
        text: `ded`,
        choices: []

    },
    dragonRight: {
        text: `Scott returns to the Kingdom empty handed. He returns to the castle after a week's journey. The king knows what happened as the others did not return with him. He forms another gathering and asks for volunteers from the crowd. Only one comes up, Sir RichardRicher, the obnoxious excuse for a knight. Should Scott go with Sir RichardRicher?`,
        choices: [
            ["No, I hate him with a burning passion", "noWay"],
            ["Yes, he's your only ticket to redemption", "yeah"]
        ]

    },
    dragonWrong: {
        text: `Scott approaches the castle, and expects the worst. He gets inside the ruins and sees a pile of armors yielding his kingdom's emblem. Should Scott attack the dragon to avenge fallen knights?`, 
        choices: [
            ["Yes!", "avenge"],
            ["No", "dontAvenge"]
        ]

    },
    avenge: {
        text: `He walks into the castle ready for what is to come, what is the plan?`,
        choices: [
            ["Look around for the princess to make sure she is safe", "findPrincess"],
            ["He should kill the beast while he has his chance", "deleteBeast0"]
        ]

    },
    dontAvenge: {
        text: `What will he do instead of avenging them? `,
        choices: [
            ["He should stay where he is and wait for backup", "steakOut"],
            ["Become his own knight", "cowardice"]
        ]

    },
    cowardice: {
        text: `Scott is tired of being a squire, he goes to the forest to live alone with a solitude life`,
        choices: []

    },
    steakOut: {
        text: `After some weeks, he sees Sir RichardRicher approach. He offers a plan to go in and attack it hitting it repetitively. Does Scott agree to go with this plan?`,
        choices: [
            ["Yes, that's an excellent plan", "excellentPlan"],
            ["No, that plan sucks", "youAreGoingToDie"]
        ]

    },
    findPrincess: {
        text: ` `,
        choices: [
            ["Get her out of there!", "takeFirst"],
            ["There's still a dragon to dispose of", "deleteBeast1"]
        ]

    },
    deleteBeast0: {
        text: ``,
        choices: [
            ["Find the nearest rock and bash the dragon's skull in", "vibeCheck"],
            ["Find the nearest sword.", "shortSword"]
        ]

    },
    deleteBeast1: {
        text: ` `,
        choices: [
            ["Find the nearest rock and bash the dragon's skull in", "vibeCheck"],
            ["Find the nearest sword.", "shortSword"]
        ]

    },
    takeFirst: {
        text: `ded`,
        choices: []

    },
    vibeCheck: {
        text: `ded`,
        choices: []

    },
    shortSword: {
        text: ` `,
        choices: [
            ["Into his forehead", "foreheadButNo"],
            ["Right in the spine", "spineButNo"]
        ]

    },
    foreheadButNo: {
        text: ` `,
        choices: [
            ["By the hand", "byHand"],
            ["Bridal style baby", "bridalStyle"]
        ]

    },
    spineButNo: {
        text: `ded`,
        choices: []

    },  
    byHand: {
        text: `Y'all got out the castle`,
        choices: []

    },
    bridalStyle: {
        text: `Y'all both died`,
        choices: []

    },
    noWay: {
        text: `ded but not really`,
        choices: []

    },
    yeah: {
        text: `Sir Richard comes up with a plan to go in the cave with your weapons and keep hitting the dragon until it is beaten to death. Does Scott agree with this plan?`,
        choices: [
            ["That's an excellent plan", "excellentPlan"],
            ["That plan sucks", "youAreGoingToDie"]
        ]

    },
    excellentPlan: {
        text: `The Dragon wakes up and see how weak you two are and swipes its spiky tail at you both killing you at the same time.`,
        choices: []

    },
    youAreGoingToDie: {
        text: `Sir Richard decides to go in without Scott trying to be heroic, but seconds later Scott sees Richards body thrown in his direction. Scott must end this and kill the dragon already. What will he do?`,
        choices: [
            ["Grab Sir RichardRicher's sword", "sirRRSword"],
            ["Use your trusty flail", "ballAndChain"]
        ]

    },
    sirRRSword: {
        text: `ded`,
        choices: []

    },
    ballAndChain: {
        text: ` `,
        choices: []

    },
}
let storyContainer = document.getElementById("story");

let buttonContainer = document.getElementById("buttons");

let history = ["intro"]

function makeButton(btnText, choice){
            let button = document.createElement("button");
            button.innerHTML = btnText;
            buttonContainer.appendChild(button);
            button.addEventListener ("click", function() {
                history.push(choice);
                showStory();
            });
        }
        function buildStory(text) {
            let storyItem = document.createElement("p");
            storyItem.innerText = text;
            storyContainer.appendChild(storyItem);
        }
        function showStory(){
            let currentPage = history[history.length - 1]; // set currentPage to last index of history array.
            storyContainer.innerHTML = ""; // reset html
            buttonContainer.innerHTML = ""; // reset buttons
            
            for(let page of history){ // build story text from items in history array
                buildStory(story[page].text);
            }
            
            for(let choice of story[currentPage].choices){ // build buttons from choices property of most recent story choice
                makeButton(choice[0], choice[1])
            }
        }
        showStory();
        
        
    </script>
      
</body>
</html>