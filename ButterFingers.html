<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Butterfingers</title>
</head>
<body>
    <div id=>
    <h1>Butterfingers: The Tale of a Young Squire</h1>   
        <p>This tale is about a squire named Scott.  Now, Scott was qualified for being a knight.  He were witty, courageous, and persevering; however, he had an affliction that still had him be a squire;  he had butterfingers.  For seven years, it seemed that Scott simply couldn’t overcome this curse that blocked his path to knighthood.  Lucky for him, he had a patient teacher, one who was the most valiant of the land, Sir Ivan.  When most of the knights turned Scott down because of his butterfingers, Sir Ivan was there, welcoming Scott as his squire.  When the other knights heard this, they were a bit confused, but they didn’t question Ivan’s decision.</p>
    <div id="myDIV">
    </div>
</body>
<div id="story">
</div>
<div id="buttons">
</div>
<script>
    const story = {
    intro: { 
        text: `One day, as the two were training, the king calls all of his knights and their squires over to the throne room for an important meeting.  “My loyal subjects,” he began, “my precious daughter has been seized by a fiendish dragon by the night.  I need five noble knights to journey to the beast’s den to slay it and recover my daughter from that abomination’s lair.”\n One by one, four knights and their squires come up to the the king to lend their aid.  Sir Ivan was approaching the the king, but looked back at Scott.  "Would you like to come with me on this journey?  I know you have problems wielding your arms, but I assure that you can be of help.  You can stay behind if you are not ready, and you can practice by yourself or with the other knights and squires." \n \n Does Scott join Sir Ivan?`,
        choices: [
            ["Yes", "depart"],
            ["No", "stayAtCastle0"],
            ["No?", "indecisive0"]
        ]
    },
    depart: {
        text: `Without question, Scott exclaims "Of course I'll go!" Scott was really excited to participate in this adventure, since he has always been inside the castle walls and nowhere else when it came to doing tasks.  The knights left the castle with fanfare, towards the belly of the beast.  After a week of traveling, they finally arrive. \n “There it is!” exclaimed Sir Ray.  The other knights look towards the looming structure in the distance.  “Well what are you waiting for?” continued the knight,  “The princess isn’t going to rescue herself.”  The knights rush towards the collection of towers and set up camp. \n A lava moat surrounded the property, with only a frail bridge available to enter the premises.  The surrounding clouds suddenly grow ashy and the air is filled with soot.  Before thee knights advance towards the dragon, Sir Ivan instructs the squires.  “Stay behind and guard the camp.  Make sure nothing happens to our equipment, we’ll be back before you know it.” The knights then leave to cross the rope bridge one by one, not risking to break it. The squires stay behind as told, guarding the horses and left over equipment in the camp.  The squires start to chatter. \n “Well, that was a tiring week.  Hadn’t used my legs that much since I was a page,” says one, in which they all agree. \n “Too bad your steed was disease-ridden and died,” heckled another squire, “because if you have had taken better care of it, you wouldn’t have had to walk all that way and we wouldn’t have slowed down for you, Steven.” \n“It’s not entirely my fault Greg, Scott over here just couldn’t help dropping everything all the time; how does that even happen, least you have a horse that can carry your equipment?” \n “Hey,” Scott replied, “it’s not my fault I--”\n They all groan.  “Yes Scott, we know, you have ‘butterfingers’ or whatever you call it, you’ve been complaining about it ever since you’ve held a sword.  It’s numbing to our ears ever since we all became squires.  Scott, we’re all surprised you became one in the first place, let alone a squire of Sir Ivan’s.”  The squire then say some rude things and some true but also sad things about Scott which makes him a bit uneasy. \n \nScott wonders if he should leave as the person the squires are talking about is right there.`,
        choices: [
            ["Run Away","fleeComrades"],
            ["Stay", "stayComrades"]
        ]
    },
    stayAtCastle0: {
        text: `“I think I’ll stay,” Scott responded, and Sir Ivan nods.  After all he’s yet to master his skills at using specific weapons and overcoming his butterfingers. \n“Scott, you can practice with the other knights and squires, they’ll be sure to aid you in combat,” he assured. \n Scott knew what it’s like to be with the other squires, and it’s nothing but name calling and jeering because “You can’t hold a sword for five minutes without it slipping out of your hands.” Though it’s for the best, as training is training. \n As Sir Ivan leaves Scott to step up in front of the king, one of the knights asks, “Where did the foul beast go?”  The king tells the volunteers the general direction he saw the dragon go towards, and sent the knights off to follow. \n Two weeks past and there are no signs of Sir Ivan, the knights or even any of the squires, and the king became worried again, as they're supposed to be back.  He called another meeting in the throne room. “It’s been two whole weeks since I’ve sent five knights and their squires to save my daughter from the clutches of a dragon.  Yet none of them have came back.  I’m starting to worry that they may have perished in the flames of the dragon, so I will ask for volunteers to go and rescue my darling daughter.” Scott was going to step up to the front of the king, but an infamous knight came to the king. \n The knight was known as Sir “Anything You Can Do I Can Do Better” RichardRicher, one of the most prideful and irritating beings of the lands.  Sir RichardRicher thinks he’s better than everybody and flaunts it.  He acts like he’s part of the royal family, wearing purple on every occasion while everyone else is wearing red. He wants to be the best knight in the land even superior to Sir Ivan.  The king also held some distaste of Sir RichardRicher, but he kept him because he does pretty well in combat. It’s just painful to look at since he tries to incorporate his horrid dancing into the fighting. “To be a knight you have to dance; if you don’t, you won’t stand a chance!” is his stupid catchphrase that rings in everybody’s ears whenever he’s around.  He has a thing for rhyming. `,
        choices: [
            ["No way", "noWay"],
            ["I guess he has to", "yeah"]
        ]
    },
    indecisive0: {
        text: `Scott stays at castle but is indecisive`,
        choices: [
            ["Stay", "stayAtCastle1"],
            ["He should've gone","indecisive1"]
        ]

    },
    stayAtCastle1: {
        text: `from indecisive0, Scott stays`,
        choices: [
            ["No way", "noWay"],
            ["I guess he has to", "yeah"]
        ]

    },
    indecisive1: {
        text: `from indecisive0, Scott leaves`,
        choices: [
            ["Avenge your fallen soldiers", "avenge"],
            ["Evaluate your choices", ""]
        ]

    },
    fleeComrades: {
        text: `Scott waits for the perfect oppurtunity to abscond from the situation.  As a loud sound grabbed everybody's attention, Scott makes a break for it into the woods, leaving everyone behind.  When he ran some distance, he was surrounded by nature, which sounds a lot better than people being mean to you.  But as Scott sits down to relax, he unknowingly gets attacked by a black bear.  At least the squires wouldn't have mauled Scott`,
        choices: []

    },
    stayComrades: {
        text: `Scott reluctantly stays as the group continues to poke at him. After a while of redicule from his peers, a sudden noise emited from the fortress.  The sound definitley from a casualty, but was it a knight’s or a dragon’s life that was ended?  The question was answered when a set of armor flew out over the walls and into the hungry red lava below.  The squires decided that it was time to get into the action.  They all pick up their weapons, one picked up a bow, one a mace, another a sword and another squire retrieved their war hammer.  Scott went and picked up his “trusty” flail from his horse, who felt a bit uneasy about the situation.  “Don’t worry Cody,” Scott reassured,  “I’ll be back.”  Despite the consolation, the horse lets out a nervy neigh. \n \n As the other four squires got onto the bridge, Scott wondered how he should approach the castle.`,
        choices: [
            ["Offensively, lead the group", "aggressive"],
            ["Stay a bit behind as back up " ,"passive"]
        ]

    },
    passive: {
        text: `Scott is the last one to get onto the bridge as the rest of the squires are halfway acoss.  A shadow is seen and the squire with the bow shot at where it was, missing.  The dragon knows they're here.  The dragon comes at the bridge and tries to make the intelopers fly off, in which one falls off.  Scott would have fallen off too, but he is lucky to be at the the end of the bridge where there is more stability.  One by one the dragon knocks each squire down into the lava below, until only Scott is left.  As the dragon zooms closer and closer, Scott decides to take a stand and use his flail.  the flail's grip slips out of his hand, and the ball and chain falls into the lava below.  This was not the best situation to be in. \n Luckily for Scott, the dragon saw how awfully pathetic he was.  It stopped in front of Scott and said, “I’d assume that the king would send his best knights and squires but you proved otherwise.  I have decided to let you go so that you can tell that king of yours that if he could send in all of his treasure for me to have.  Understand?”  Before Scott could muster up a reply, the dragon was already making it back to its castle.\n What just happened?  Scott was already imagining the embarrassment of being the only one to return to the castle, and with his reputation being compared to that of his mentor, the other knights and squires would blame Scott for Sir Ivan’s death, along with the other knights and squires that came, and would highly disregard him.\n \n Should Scott listen to the dragon and head back to the castle?`,
        choices: [
            ["Yes ", "dragonRight"],
            ["No", "dragonWrong"]
        ]

    },
    aggressive: {
        text: `ded`,
        choices: [
            ["The End!", "theEnd"]
        ]

    },
    dragonRight: {
        text: `Scott returns to the Kingdom empty handed. He returns to the castle after a week's journey. The king knows what happened as the others did not return with him. He forms another gathering and asks for volunteers from the crowd. Only one comes up, Sir RichardRicher, the obnoxious excuse for a knight. Should Scott go with Sir RichardRicher?`,
        choices: [
            ["No, I hate him with a burning passion", "noWay"],
            ["Yes, he's your only ticket to redemption", "yeah"]
        ]

    },
    dragonWrong: {
        text: `Scott approaches the castle, and expects the worst. He gets inside the ruins and sees a pile of armors yielding his kingdom's emblem. Should Scott attack the dragon to avenge fallen knights?`, 
        choices: [
            ["Yes!", "avenge"],
            ["No", "dontAvenge"]
        ]

    },
    avenge: {
        text: `He walks into the castle ready for what is to come, what is the plan?`,
        choices: [
            ["Look around for the princess to make sure she is safe", "findPrincess"],
            ["He should kill the sleeping beast while he has his chance", "deleteBeast0"]
        ]

    },
    dontAvenge: {
        text: `What will he do instead of avenging them? `,
        choices: [
            ["He should stay where he is and wait for backup", "steakOut"],
            ["Become his own knight", "cowardice"]
        ]

    },
    cowardice: {
        text: `Scott is tired of being a squire, he goes to the forest to live alone with a solitude life`,
        choices: [
            ["The End!", "theEnd"]
        ]

    },
    steakOut: {
        text: `After some weeks, he sees Sir RichardRicher approach. He offers a plan to go in and attack it hitting it repetitively. Does Scott agree to go with this plan?`,
        choices: [
            ["Yes, that's an excellent plan", "excellentPlan"],
            ["No, that plan sucks", "youAreGoingToDie"]
        ]

    },
    findPrincess: {
        text: `Scott looks around and finally finds the princess, what will he do next?`,
        choices: [
            ["Get her out of there!", "takeFirst"],
            ["There's still a dragon to dispose of", "deleteBeast1"]
        ]

    },
    deleteBeast0: {
        text: `Scott decides to kill him, how should he kill him?`,
        choices: [
            ["Find the nearest rock and bash the dragon's skull in", "vibeCheck"],
            ["Find the nearest sword.", "shortSword"]
        ]

    },
    deleteBeast1: {
        text: `Scott decides to kill the dragon, how should he kill him?`,
        choices: [
            ["Find the nearest rock and bash the dragon's skull in", "vibeCheck"],
            ["Find the nearest sword.", "shortSword"]
        ]

    },
    takeFirst: {
        text: `ded`,
        choices: [
            ["The End!", "theEnd"]
        ]

    },
    vibeCheck: {
        text: `ded`,
        choices: [
            ["The End!", "theEnd"]
        ]

    },
    shortSword: {
        text: `Scott goes around the castle looking for a sword and eventually finds an old rusty one. It is a little shorter than what he is used to but it will have to do. Where is the best spot to stab the dragon?`,
        choices: [
            ["Into his forehead", "foreheadButNo"],
            ["Right in the spine", "spineButNo"]
        ]

    },
    foreheadButNo: {
        text: `He gets ready to stab the forehead but he messes up a little and stabs the dragons eye instead. The dragon wakes up blinded and breathes fire everywhere angrily. He burns the ropes holding the cage releasing it to the ground. Scott goes over and finds the princess. How should he take her to safety?`,
        choices: [
            ["By the hand", "byHand"],
            ["Bridal style baby", "bridalStyle"]
        ]

    },
    spineButNo: {
        text: `ded`,
        choices: [
            ["The End!", "theEnd"]
        ]

    },  
    byHand: {
        text: `Y'all got out the castle`,
        choices: [
            ["The End!", "theEnd"]
        ]

    },
    bridalStyle: {
        text: `Y'all both died`,
        choices: [
            ["The End!", "theEnd"]
        ]

    },
    noWay: {
        text: `ded but not really`,
        choices: [
            ["The End!", "theEnd"]
        ]

    },
    yeah: {
        text: `Sir Richard comes up with a plan to go in the dragon's lair with your weapons and keep hitting the dragon until it is beaten to death. Does Scott agree with this plan?`,
        choices: [
            ["That's an excellent plan", "excellentPlan"],
            ["That plan sucks", "youAreGoingToDie"]
        ]

    },
    excellentPlan: {
        text: `"That is an excellent plan!" exclaimed Scott, losing brain cells by the second.  Sir RichardRicher grinned as that's the first time anybody thought his idea was a good one.  As they readied themselves, both Scott and Sir RichardRicher charge at the dragon yelling that the dragon will soon meet its demise.  The dragon wakes up from the screaming, and bludgeoned the two with his tail.  As Scott flys over the castle walls alongside Sir RichardRicher, he starts to realize why nobody accepted Sir RichardRicher's ideas.`,
        choices: []

    },
    youAreGoingToDie: {
        text: `"Sir RichardRicher, in all honesty, that is a terrible plan and you are going to die" Scott responds without hesitation. \n Sir RichardRicher looks disgusted.  "Well at least I have a plan, what do you have in mind?"  Before Scott could speak his mind Sir RichardRicher shuts him up.  "Exactly!" he exclaims, "You don't have one" and he pulls out his cartoonishly long sword and starts to charge in without Scott proving to him that his fact is totally not terrible and it will work miraculously somehow. \n In a matter of seconds, Scott hears a loud roar and sees Sir RichardRicher's sad body being tossed over the castle wall, yelling curses and blames directed to the dragon and Scott respectivley. Scott looks at the dragon, who is in return looking back at him. "After sending that group of knights and squires, the king decided to send the court jester and a child to fight me?  This is absolutley hillarious, I'm just dying of laughter." \n Thanks to Sir RichardRicher's folly, the dragon's guard has dropped severely since he's just poking fun at both you and the presumably late Sir RichardRicher.  Now would be a great oppurtunity to strike. \n \n But what weapon is Scott going to use to defeat the dragon?`,
        choices: [
            ["Grab Sir RichardRicher's sword", "sirRRSword"],
            ["Use your trusty flail", "ballAndChain"]
        ]

    },
    sirRRSword: {
        text: `He grabs the sword and whirls it up in the air ready to strike. As he whirls it up the sword slips out of his hand! The dragon chuckles some and lands a flatal blow on Scott, killing him.`,
        choices: [
            ["The End!", "theEnd"]
        ]

    },
    ballAndChain: {
        text: `He has a flail and he swings at the dragon but it slips out of his hand! Luckily it launches up and comes crashing down on the dragon breaking his spine bringing him to a painful death. Scott runs around in search for the princess when suddenly he finds her! But her body is cold and frail... she has been stuck in here for weeks with no food or water and it has killed her. Scott returns to the kingdom with bad news for the king.`,
        choices: [
            ["The End!", "theEnd"]
        ]

    },
    theEnd: {
        text: `THE END! If you want to try again to make a different story line refresh the page :)`,
        choices: []

    },
}
let storyContainer = document.getElementById("story");

let buttonContainer = document.getElementById("buttons");

let history = ["intro"]

function makeButton(btnText, choice){
            let button = document.createElement("button");
            button.innerHTML = btnText;
            buttonContainer.appendChild(button);
            button.addEventListener ("click", function() {
                history.push(choice);
                showStory();
            });
        }
        function buildStory(text) {
            let storyItem = document.createElement("p");
            storyItem.innerText = text;
            storyContainer.appendChild(storyItem);
        }
        function showStory(){
            let currentPage = history[history.length - 1]; // set currentPage to last index of history array.
            storyContainer.innerHTML = ""; // reset html
            buttonContainer.innerHTML = ""; // reset buttons
            
            for(let page of history){ // build story text from items in history array
                buildStory(story[page].text);
            }
            
            for(let choice of story[currentPage].choices){ // build buttons from choices property of most recent story choice
                makeButton(choice[0], choice[1])
            }
        }
        showStory();
        
        
        
    </script>
      
</body>
</html>

